<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Introduction to ORY Hydra, OAuth 2.0, and OpenID Connect · ORY Documentation</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="Welcome to the Hydra documentation. This documentation will"/><meta name="docsearch:version" content="oryOS.11"/><meta name="docsearch:language" content="en"/><meta property="og:title" content="Introduction to ORY Hydra, OAuth 2.0, and OpenID Connect · ORY Documentation"/><meta property="og:type" content="website"/><meta property="og:url" content="https://www.ory.sh/"/><meta property="og:description" content="Welcome to the Hydra documentation. This documentation will"/><meta property="og:image" content="https://www.ory.sh/images/logo.png"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="https://www.ory.sh/images/logo.png"/><link rel="shortcut icon" href="/images/favicon.png"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css"/><script>
              (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
              (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
              m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
              })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

              ga('create', 'UA-71865250-1', 'auto');
              ga('send', 'pageview');
            </script><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script src="/js/scrollSpy.js"></script><link rel="stylesheet" href="/css/main.css"/><script src="/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/"><img class="logo" src="/images/logo.svg" alt="ORY Documentation"/></a><a href="/versions"><h3>oryOS.11</h3></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class=""><a href="/" target="_self">Home</a></li><li class=""><a href="/blog" target="_self">Blog</a></li><li class=""><a href="https://community.ory.sh" target="_self">Forum</a></li><li class=""><a href="/chat" target="_self">Chat</a></li><li class="siteNavGroupActive"><a href="/docs/oryOS.11/" target="_self">Docs</a></li><li class=""><a href="https://github.com/ory/" target="_self">GitHub</a></li><li class="navSearchWrapper reactNavSearchWrapper"><input type="text" id="search_input_react" placeholder="Search" title="Search"/></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><div class="hamburger-menu"><div class="line1"></div><div class="line2"></div><div class="line3"></div></div></div><h2><i>›</i><span>ORY Hydra</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle">Welcome</h3><ul class=""><li class="navListItem"><a class="navItem" href="/docs/oryOS.11/">ORY Developer Documentation</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Ecosystem</h3><ul class=""><li class="navListItem"><a class="navItem" href="/docs/oryOS.11/ecosystem/overview">Overview</a></li><li class="navListItem"><a class="navItem" href="/docs/oryOS.11/ecosystem/cloud-native">Cloud Native Architecture</a></li><li class="navListItem"><a class="navItem" href="/docs/oryOS.11/ecosystem/usage">API Usage</a></li><li class="navListItem"><a class="navItem" href="/docs/oryOS.11/ecosystem/versioning">Software Versions</a></li><li class="navListItem"><a class="navItem" href="/docs/oryOS.11/ecosystem/persistence">Data Storage and Persistence</a></li><li class="navListItem"><a class="navItem" href="/docs/oryOS.11/ecosystem/upgrading">Software Updates</a></li><li class="navListItem"><a class="navItem" href="/docs/oryOS.11/ecosystem/examples">Learn By Example</a></li><li class="navListItem"><a class="navItem" href="/docs/oryOS.11/ecosystem/community">Community</a></li><li class="navListItem"><a class="navItem" href="/docs/oryOS.11/ecosystem/sqa">Software Quality Assurance</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">ORY Hydra</h3><ul class=""><li class="navListItem navListItemActive"><a class="navItem" href="/docs/oryOS.11/hydra/">Introduction to ORY Hydra, OAuth 2.0, and OpenID Connect</a></li><li class="navListItem"><a class="navItem" href="/docs/oryOS.11/hydra/install">Installation</a></li><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Getting Started</h4><ul><li class="navListItem"><a class="navItem" href="/docs/oryOS.11/hydra/5min-tutorial">5 Minute Tutorial</a></li></ul></div><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Guides</h4><ul><li class="navListItem"><a class="navItem" href="/docs/oryOS.11/hydra/oauth2">Integrating with (existing) User Management</a></li><li class="navListItem"><a class="navItem" href="/docs/oryOS.11/hydra/configure-deploy">Installation and Setup</a></li><li class="navListItem"><a class="navItem" href="/docs/oryOS.11/hydra/dependencies-environment">Database Setup and Configuration</a></li><li class="navListItem"><a class="navItem" href="/docs/oryOS.11/hydra/production">Preparing for Production</a></li><li class="navListItem"><a class="navItem" href="/docs/oryOS.11/hydra/configuration">Configuration</a></li><li class="navListItem"><a class="navItem" href="/docs/oryOS.11/hydra/debugging">Debugging</a></li><li class="navListItem"><a class="navItem" href="/docs/oryOS.11/hydra/advanced">Advanced Topics</a></li><li class="navListItem"><a class="navItem" href="/docs/oryOS.11/hydra/integration">Consuming OAuth 2.0</a></li></ul></div><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">API &amp; SDKs</h4><ul><li class="navListItem"><a class="navItem" href="/docs/oryOS.11/hydra/sdk/">Overview</a></li><li class="navListItem"><a class="navItem" href="/docs/oryOS.11/hydra/sdk/api">REST API</a></li><li class="navListItem"><a class="navItem" href="/docs/oryOS.11/hydra/sdk/go">Go</a></li><li class="navListItem"><a class="navItem" href="/docs/oryOS.11/hydra/sdk/js">JavaScript</a></li></ul></div><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Further Reading</h4><ul><li class="navListItem"><a class="navItem" href="/docs/oryOS.11/hydra/limitations">Limitations</a></li><li class="navListItem"><a class="navItem" href="/docs/oryOS.11/hydra/jwks">JSON Web Key Sets</a></li><li class="navListItem"><a class="navItem" href="/docs/oryOS.11/hydra/security-architecture">Security Architecture</a></li><li class="navListItem"><a class="navItem" href="/docs/oryOS.11/hydra/faq">FAQ</a></li></ul></div></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">ORY Oathkeeper</h3><ul class=""><li class="navListItem"><a class="navItem" href="/docs/oryOS.11/oathkeeper/">Introduction</a></li><li class="navListItem"><a class="navItem" href="/docs/oryOS.11/oathkeeper/install">Installation</a></li><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Guides</h4><ul><li class="navListItem"><a class="navItem" href="/docs/oryOS.11/oathkeeper/api-access-rules">API Access Rules</a></li><li class="navListItem"><a class="navItem" href="/docs/oryOS.11/oathkeeper/configure-deploy">Configure and Deploy</a></li><li class="navListItem"><a class="navItem" href="/docs/oryOS.11/oathkeeper/control-flow">Control Flow</a></li></ul></div><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">API &amp; SDKs</h4><ul><li class="navListItem"><a class="navItem" href="/docs/oryOS.11/oathkeeper/sdk/api">REST API</a></li></ul></div></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">ORY Keto</h3><ul class=""><li class="navListItem"><a class="navItem" href="/docs/oryOS.11/keto/">Introduction</a></li><li class="navListItem"><a class="navItem" href="/docs/oryOS.11/keto/install">Installation</a></li><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Guides</h4><ul><li class="navListItem"><a class="navItem" href="/docs/oryOS.11/keto/configure-deploy">Configure and Deploy</a></li><li class="navListItem"><a class="navItem" href="/docs/oryOS.11/keto/configuration">Configuration</a></li><li class="navListItem"><a class="navItem" href="/docs/oryOS.11/keto/secure">Secure</a></li></ul></div><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Access Control Engines</h4><ul><li class="navListItem"><a class="navItem" href="/docs/oryOS.11/keto/engines/">Introduction</a></li><li class="navListItem"><a class="navItem" href="/docs/oryOS.11/keto/engines/acl">Access Control Lists (ACL)</a></li><li class="navListItem"><a class="navItem" href="/docs/oryOS.11/keto/engines/rbac">Role Based Access Control (RBAC)</a></li><li class="navListItem"><a class="navItem" href="/docs/oryOS.11/keto/engines/acp-ory">ORY Access Control Policies</a></li><li class="navListItem"><a class="navItem" href="/docs/oryOS.11/keto/engines/acp-aws">AWS IAM Policies</a></li></ul></div><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">API &amp; SDKs</h4><ul><li class="navListItem"><a class="navItem" href="/docs/oryOS.11/keto/sdk/api">REST API</a></li></ul></div></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Performance</h3><ul class=""><li class="navListItem"><a class="navItem" href="/docs/oryOS.11/performance/">Introduction</a></li><li class="navListItem"><a class="navItem" href="/docs/oryOS.11/performance/hydra">ORY Hydra</a></li></ul></div></div></section></div><script>
            var coll = document.getElementsByClassName('collapsible');
            var checkActiveCategory = true;
            for (var i = 0; i < coll.length; i++) {
              var links = coll[i].nextElementSibling.getElementsByTagName('*');
              if (checkActiveCategory){
                for (var j = 0; j < links.length; j++) {
                  if (links[j].classList.contains('navListItemActive')){
                    coll[i].nextElementSibling.classList.toggle('hide');
                    coll[i].childNodes[1].classList.toggle('rotate');
                    checkActiveCategory = false;
                    break;
                  }
                }
              }

              coll[i].addEventListener('click', function() {
                var arrow = this.childNodes[1];
                arrow.classList.toggle('rotate');
                var content = this.nextElementSibling;
                content.classList.toggle('hide');
              });
            }

            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              var headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                var el = event.target;
                while(el !== headings){
                  if (el.tagName === 'A') {
                    document.body.classList.remove('tocActive');
                    break;
                  } else{
                    el = el.parentNode;
                  }
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                if (!toggler) {
                  return;
                }

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer docsContainer"><div class="wrapper"><div class="post"><header class="postHeader"><a class="edit-page-link button" href="https://github.com/ory/docs/edit/master/docs/hydra/index.md" target="_blank" rel="noreferrer noopener">Edit</a><h1 id="__docusaurus" class="postHeaderTitle">Introduction to ORY Hydra, OAuth 2.0, and OpenID Connect</h1></header><article><div><span><p>Welcome to the Hydra documentation. This documentation will</p>
<ol>
<li>teach you what OAuth2 and OpenID Connect are and how ORY Hydra fits in the
picture.</li>
<li>help you run a ORY Hydra installation on your system using Docker.</li>
<li>teach you how to install, configure, run and use ORY Hydra.</li>
</ol>
<p>Let us begin with the first part, understanding what OAuth2 and OpenID Connect
are.</p>
<h2><a class="anchor" aria-hidden="true" id="what-is-ory-hydra"></a><a href="#what-is-ory-hydra" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>What is ORY Hydra?</h2>
<p>ORY Hydra is an OAuth 2.0 and OpenID Connect Provider. As such, it is capable of
issuing access, refresh, and ID Tokens. Contrary to other projects out there,
ORY Hydra does not offer user management (login, logout, profile management,
registration) but instead uses a redirection-based flow and a REST API to
delegate user authentication (login) to a service which you implement and
control. This allows you to build a user management that works for you, with the
frontend technology that you like, and authentication mechanisms required by
your use case (e.g. token-based 2FA, SMS 2FA).</p>
<p>As such, ORY Hydra is the most flexible OAuth 2.0 and OpenID Connect provider
out there and gives you great freedom in implementing your business logic, and
still getting all the benefits from OAuth 2.0 and OpenID Connect.</p>
<p>Additional to the OAuth 2.0 functionality, ORY Hydra offers a safe storage for
cryptographic keys (e.g. for signing JSON Web Tokens) and is capable of managing
OAuth 2.0 Clients.</p>
<p>ORY Hydra is OpenID Connect certified (pending) and implements all the
requirements stated by the OpenID Foundation. As such, it correctly implements
the different OAuth 2.0 and OpenID Connect flows as intended by the IETF and
OpenID Foundation.</p>
<h2><a class="anchor" aria-hidden="true" id="introduction-to-oauth-20-and-openid-connect"></a><a href="#introduction-to-oauth-20-and-openid-connect" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Introduction to OAuth 2.0 and OpenID Connect</h2>
<p>This section will give you some ideas of what OAuth 2.0 and OpenID Connect 1.0
are for. If you already know what OAuth2 and OpenID Connect are and how they
work, you can skip to the next <a href="#introduction-to-hydra">Section</a>. This section
will not explain how the various flows of OAuth2 work and how they look like. We
strongly recommend to read the following articles:</p>
<ul>
<li><a href="https://www.digitalocean.com/community/tutorials/an-introduction-to-oauth-2">DigitalOcean: An Introduction to OAuth 2</a></li>
<li><a href="https://aaronparecki.com/2012/07/29/2/oauth2-simplified">Aaron Parecki: OAuth2 Simplified</a></li>
<li><a href="https://zapier.com/learn/apis/chapter-5-authentication-part-2/">Zapier: Chapter 5: Authentication, Part 2</a></li>
</ul>
<p>Please be aware that we do not aim to explain OAuth 2.0 in great detail. We
assume that you have some knowledge of the flows and strongly encourage you to
refresh your knowledge with the articles listed above.</p>
<p>We highly recommend watching the following video:</p>
<iframe width="560" height="315" src="https://www.youtube.com/embed/996OiexHze0" frameborder="0" allowfullscreen></iframe>
<h3><a class="anchor" aria-hidden="true" id="what-is-oauth-20"></a><a href="#what-is-oauth-20" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>What is OAuth 2.0?</h3>
<p><a href="https://tools.ietf.org/html/rfc6749">The OAuth 2.0 authorization framework</a> is
a memo in the <a href="https://www.ietf.org/rfc.html">Request for Comments</a> document
series published by the IETF Internet Engineering Task Force (IETF). Memos in
the Requests for Comments (RFC) document series contain technical and
organizational notes about the Internet. They cover many aspects of computer
networking, including protocols, procedures, programs, and concepts [...].</p>
<p>The OAuth 2.0 authorization framework enables a third-party application to
obtain limited access to an HTTP service, either on behalf of a resource owner
by orchestrating an approval interaction between the resource owner and the HTTP
service, or by allowing the third-party application to obtain access on its own
behalf.</p>
<p>In the traditional client-server authentication model, the client requests an
access-restricted resource (protected resource) on the server by authenticating
with the server using the resource owner's credentials. In order to provide
third-party applications access to restricted resources, the resource owner
shares its credentials with the third party. This creates several problems and
limitations.</p>
<p>OAuth addresses these issues by introducing an authorization layer and
separating the role of the client from that of the resource owner. In OAuth, the
client requests access to resources controlled by the resource owner and hosted
by the resource server, and is issued a different set of credentials than those
of the resource owner.</p>
<p>Instead of using the resource owner's credentials to access protected resources,
the client obtains an access token -- a string denoting a specific scope,
lifetime, and other access attributes. Access tokens are issued to third-party
clients by an authorization server with the approval of the resource owner. The
client uses the access token to access the protected resources hosted by the
resource server.</p>
<p>Source: <a href="https://tools.ietf.org/html/rfc6749">IETF RFC 6749</a></p>
<h3><a class="anchor" aria-hidden="true" id="oauth-20-example"></a><a href="#oauth-20-example" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>OAuth 2.0 Example</h3>
<p>An end-user (resource owner) can grant a printing service (client) access to her
protected photos stored at a photo- sharing service (resource server), without
sharing her username and password with the printing service. Instead, she
authenticates directly with a server trusted by the photo-sharing service
(authorization server), which issues the printing service delegation- specific
credentials (access token).</p>
<p>Source: <a href="https://tools.ietf.org/html/rfc6749">IETF RFC 6749</a></p>
<h3><a class="anchor" aria-hidden="true" id="what-is-openid-connect-10"></a><a href="#what-is-openid-connect-10" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>What is OpenID Connect 1.0?</h3>
<p>OpenID Connect 1.0 is a simple identity layer on top of the OAuth 2.0 protocol.
It enables Clients to verify the identity of the End-User based on the
authentication performed by an Authorization Server, as well as to obtain basic
profile information about the End-User in an interoperable and REST-like manner.</p>
<p>As background, the OAuth 2.0 Authorization Framework and OAuth 2.0 Bearer Token
Usage specifications provide a general framework for third-party applications to
obtain and use limited access to HTTP resources. They define mechanisms to
obtain and use Access Tokens to access resources but do not define standard
methods to provide identity information. Notably, without profiling OAuth 2.0,
it is incapable of providing information about the authentication of an
End-User.</p>
<p>OpenID Connect implements authentication as an extension to the OAuth 2.0
authorization process.</p>
<p>Source
<a href="http://openid.net/specs/openid-connect-core-1_0.html">OpenID Connect Core 1.0</a></p>
<p>OpenID Connect allows clients of all types, including Web-based, mobile, and
JavaScript clients, to request and receive information about authenticated
sessions and end-users. The specification suite is extensible, allowing
participants to use optional features such as encryption of identity data,
discovery of OpenID Providers, and session management, when it makes sense for
them.</p>
<p>There are different work flows for OpenID Connect 1.0, we recommend checking out
the OpenID Connect sandbox at <a href="https://openidconnect.net/">openidconnect.net</a>.</p>
<h2><a class="anchor" aria-hidden="true" id="introduction-to-hydra"></a><a href="#introduction-to-hydra" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Introduction to Hydra</h2>
<p>Hydra is a server implementation of the OAuth 2.0 authorization framework and
the OpenID Connect Core 1.0. Existing OAuth2 implementations usually ship as
libraries or SDKs such as
<a href="https://github.com/oauthjs/node-oauth2-server">node-oauth2-server</a> or
<a href="https://github.com/ory/fosite">fosite</a>, or as fully featured identity solutions
with user management and user interfaces, such as
<a href="https://www.keycloak.org/">Keycloak</a> or <a href="https://www.okta.com/">Okta</a>.</p>
<p>Implementing and using OAuth2 without understanding the whole specification is
challenging and prone to errors, even when SDKs are being used. The primary goal
of Hydra is to make OAuth 2.0 and OpenID Connect 1.0 less painful to set up and
easier to use.</p>
<p>Hydra implements the flows described in OAuth2 and OpenID Connect 1.0 without
forcing you to use a &quot;Hydra User Management&quot; or some template engine or a
predefined front-end. Instead it relies on HTTP redirection and cryptographic
methods to verify user consent allowing you to use Hydra with any authentication
endpoint, be it <a href="https://github.com/go-authboss/authboss">authboss</a>,
<a href="https://auth0.com/">auth0.com</a> or your proprietary PHP authentication.</p>
<p>Hydra incorporates best practices in the area of the web service technology:</p>
<ol>
<li>Hydra ships as a single binary for all popular platforms including Linux, OSX
and Windows, without any additional dependencies. For further simplicity,
Hydra is available as a <a href="https://hub.docker.com/r/oryd/hydra/">Docker Image</a>.</li>
<li>Hydra is built security first: architecture and work flows are designed to
neutralize various common (OWASP TOP TEN) and uncommon attack vectors.
<a href="https://www.ory.sh/docs/guides/master/hydra/5-security/">Learn more</a>.</li>
<li>Hydra has a low CPU and memory footprint, short start up times and a CLI with
developers in mind.</li>
<li>Hydra scales effortlessly up and down on every platform imaginable, including
Heroku, Cloud Foundry, Docker, Google Container Engine and many more.</li>
</ol>
<p>Hydra has a few limitations too:</p>
<ol>
<li>Hydra is not something that manages user accounts. Hydra does not offer user
registration, password reset, user login, sending confirmation emails. This
is what the <em>Identity Provider</em> is responsible for. The communication between
Hydra and the Identity Provider is called
<a href="/docs/oryOS.11/hydra/oauth2"><em>Login and Consent Flow</em></a>.</li>
<li>If you are building a simple service for 50-100 registered users, OAuth2 and
Hydra will probably be too sophisticated.</li>
<li>Hydra will not support the OAuth2 resource owner password credentials flow.
This flow is legacy, discouraged, and insecure.</li>
</ol>
<p>OAuth2 is used in many areas, for various purposes and supported by all well
known programming languages, but it is important to understand what the vision
of OAuth2 is. This non-exclusive list might help you decide, if OAuth 2.0 and
Hydra are the right fit for you.</p>
<ol>
<li>If you want to allow third-party developers accessing your APIs now or in the
future, Hydra is the perfect fit. This is what an OAuth2 Provider does.</li>
<li>If you want to become a Identity Provider, like Google, Facebook or
Microsoft, OpenID Connect and thus Hydra is a perfect fit.</li>
<li>Running an OAuth2 Provider works great with browser, mobile and wearable
apps, as you can avoid storing access credentials on the device, phone or
wearable and revoke access tokens, and thus access privileges, at any time.</li>
<li>If you have a lot of services and want to limit automated access (think:
cronjobs) for those services, OAuth2 might make sense for you. Example: The
comment service is not allowed to read user passwords when fetching the
latest user profile updates.</li>
</ol>
<h1><a class="anchor" aria-hidden="true" id="oauth-20-case-study"></a><a href="#oauth-20-case-study" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>OAuth 2.0 Case Study</h1>
<p>OAuth2 and OpenID Connect are tricky to understand. It is important to
understand that OAuth2 is a delegation protocol. It makes sense to use Hydra in
new and existing projects. A use case covering an existing project explains how
one would use Hydra in a new one as well. So let's look at a use case!</p>
<p>Let's assume we are running a ToDo List App (todo24.com). ToDo24 has a login
endpoint (todo24.com/login). The login endpoint is written in node and uses
MongoDB to store user information (email + password + settings). Of course,
todo24 has other services as well: list management (todo24.com/lists/manage:
close, create, move), item management (todo24.com/lists/items/manage: mark
solved, add), and so on. You are using cookie-based sessions to see which user
is performing the request.</p>
<p>Now you decide to use OAuth2 on top of your current infrastructure. There are
many reasons to do this:</p>
<ul>
<li>You want to open your APIs to third-party developers. Their apps will be using
OAuth2 Access Tokens to access a user's to do list.</li>
<li>You want more client applications, for example browser app (SPA), mobile app,
car, ...</li>
<li>You have Cross Origin Requests. Making cookies work with Cross Origin Requests
weakens or even disables important anti-CSRF measures.</li>
</ul>
<p>These are only a couple of reasons to use OAuth2. You might decide to use OAuth2
as your single source of authorization, thus maintaining only one authorization
protocol and being able to open up to third party devs in no time. With OpenID
Connect, you are able to delegate authentication as well as authorization!</p>
<p>Your decision is final. You want to use OAuth2 and you want Hydra to do the job.
You install Hydra in your cluster using docker. Next, you set up some exemplary
OAuth2 clients. Clients can act on their own, but most of the time they need to
access a user's todo lists. To do so, the client initiates an OAuth2 request.
This is where the <a href="/docs/oryOS.11/hydra/oauth2">user login &amp; consent flow</a> comes into play.
Before Hydra can issue an access token, we need to know WHICH user is giving
consent. To do so, Hydra redirects the user agent (e.g. browser, mobile device)
to the login endpoint alongside with a challenge that contains important request
information. The login endpoint (todo24.com/login) authenticates the user as
usual, e.g. by username &amp; password, session cookie or other means. Upon
successful authentication, the login endpoint redirects the user back to ORY
Hydra. Next, ORY Hydra needs the user's consent for which the user agent is
redirected to the consent endpoint (todo24.com/consent) where the user is asked
for consent: <em>&quot;Do you want to grant MyCoolAnalyticsApp read &amp; write access to
all your todo lists? [Yes][no]&quot;</em>. Once the user clicks <em>Yes</em> and gives consent,
the consent endpoint redirects back to ORY Hydra which then validates the
request and finally issues the access, refresh, and ID tokens.</p>
<p>You can validate the access tokens which are sent to your API directly at ORY
Hydra, or use an Identity &amp; Access Proxy like ORY Oathkeeper to do it for you.</p>
</span></div></article></div><div class="docLastUpdate"><em>Last updated on 5/17/2019 by hackerman</em></div><div class="docs-prevnext"><a class="docs-prev button" href="/docs/oryOS.11/ecosystem/sqa"><span class="arrow-prev">← </span><span>Software Quality Assurance</span></a><a class="docs-next button" href="/docs/oryOS.11/hydra/install"><span>Installation</span><span class="arrow-next"> →</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#what-is-ory-hydra">What is ORY Hydra?</a></li><li><a href="#introduction-to-oauth-20-and-openid-connect">Introduction to OAuth 2.0 and OpenID Connect</a><ul class="toc-headings"><li><a href="#what-is-oauth-20">What is OAuth 2.0?</a></li><li><a href="#oauth-20-example">OAuth 2.0 Example</a></li><li><a href="#what-is-openid-connect-10">What is OpenID Connect 1.0?</a></li></ul></li><li><a href="#introduction-to-hydra">Introduction to Hydra</a></li></ul></nav></div><footer class="nav-footer" id="footer"><section class="copyright">Copyright © 2019 ORY GmbH</section><div id="codefund"></div><script src="https://codefund.io/properties/140/funder.js" async=""></script><script>(function () {
  document.querySelectorAll('.tabs .tabs-nav .nav-item a').forEach(function (t) {
    t.addEventListener("click", function (e) {
      e.preventDefault();

      t.closest('.tabs-nav').querySelectorAll('.nav-item a').forEach(function (i) {
        i.classList.remove('active');
      });

      t.closest('.tabs').querySelectorAll('.tab-content .tab-pane').forEach(function (i) {
        i.classList.remove('active');
      });

      t.classList.add('active');
      document.getElementById(t.href.split('#')[1]).classList.add('active');
      return false
    });
  });
})();</script></footer></div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script><script>
                document.addEventListener('keyup', function(e) {
                  if (e.target !== document.body) {
                    return;
                  }
                  // keyCode for '/' (slash)
                  if (e.keyCode === 191) {
                    const search = document.getElementById('search_input_react');
                    search && search.focus();
                  }
                });
              </script><script>
              var search = docsearch({
                
                apiKey: '8463c6ece843b377565726bb4ed325b0',
                indexName: 'ory',
                inputSelector: '#search_input_react'
              });
            </script></body></html>