(window.webpackJsonp=window.webpackJsonp||[]).push([[145],{279:function(e,t,o){"use strict";o.r(t),o.d(t,"frontMatter",(function(){return a})),o.d(t,"metadata",(function(){return i})),o.d(t,"rightToc",(function(){return c})),o.d(t,"default",(function(){return l}));var s=o(2),n=o(9),r=(o(0),o(328)),a=(o(343),{id:"password-reset-account-recovery",title:"Account Recovery"}),i={id:"self-service/flows/password-reset-account-recovery",title:"Account Recovery",description:"Account Recovery must be performed if access to an account needs to be",source:"@site/docs/self-service/flows/account-recovery.mdx",permalink:"/kratos/docs/next/self-service/flows/password-reset-account-recovery",editUrl:"https://github.com/ory/kratos/edit/master/docs/docs/self-service/flows/account-recovery.mdx",version:"next",lastUpdatedBy:"hackerman",lastUpdatedAt:1591353668,sidebar:"docs",previous:{title:"User Logout",permalink:"/kratos/docs/next/self-service/flows/user-logout"},next:{title:"User-Facing Errors",permalink:"/kratos/docs/next/self-service/flows/user-facing-errors"}},c=[{value:"Forgot Password",id:"forgot-password",children:[]},{value:"Questions",id:"questions",children:[]}],u={rightToc:c};function l(e){var t=e.components,o=Object(n.a)(e,["components"]);return Object(r.b)("wrapper",Object(s.a)({},u,o,{components:t,mdxType:"MDXLayout"}),Object(r.b)("p",null,"Account Recovery must be performed if access to an account needs to be\nrecovered. Common use cases include:"),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},'"Forgot password" flows'),Object(r.b)("li",{parentName:"ul"},'"Lost MFA device" flows'),Object(r.b)("li",{parentName:"ul"},"...")),Object(r.b)("h2",{id:"forgot-password"},"Forgot Password"),Object(r.b)("p",null,"The forgot password flow is a work in progress and will be implemented in a\nfuture release of ORY Kratos."),Object(r.b)("p",null,Object(r.b)("a",Object(s.a)({parentName:"p"},{href:"https://cheatsheetseries.owasp.org/cheatsheets/Choosing_and_Using_Security_Questions_Cheat_Sheet.html"}),"https://cheatsheetseries.owasp.org/cheatsheets/Choosing_and_Using_Security_Questions_Cheat_Sheet.html")),Object(r.b)("h2",{id:"questions"},"Questions"),Object(r.b)("blockquote",null,Object(r.b)("p",{parentName:"blockquote"},"One option is to allow the user to self-construct their own questions. The\nproblem with this though is that you end up with either painfully obvious\nquestions:"),Object(r.b)("ul",{parentName:"blockquote"},Object(r.b)("li",{parentName:"ul"},Object(r.b)("strong",{parentName:"li"},"What colour is the sky?")),Object(r.b)("li",{parentName:"ul"},Object(r.b)("strong",{parentName:"li"},"How do you spell \u201cpassword\u201d?"))),Object(r.b)("p",{parentName:"blockquote"},"Questions which can put people in an uncomfortable position when a human uses\nthe secret question for verification (such as in a call centre):"),Object(r.b)("p",{parentName:"blockquote"},Object(r.b)("strong",{parentName:"p"},"Who did I sleep with at the Christmas party?")),Object(r.b)("p",{parentName:"blockquote"},"When it comes to secret questions, people need to be saved from themselves! In\nother words, the site itself should define the secret question, or rather\ndefine a series of secret questions from which the user can choose. And not\njust choose one either; ideally, the user should define two or more secret\nquestions at the time of account registration which can then be used as a\nsecond channel of identity verification. Having multiple questions adds a\nhigher degree of confidence to the verification process plus gives you\nopportunity to add randomness (not always show the same question) plus\nprovides a bit of redundancy should someone legitimate forget an answer."),Object(r.b)("p",{parentName:"blockquote"},"So what makes a good secret question? There are a few different factors:"),Object(r.b)("ul",{parentName:"blockquote"},Object(r.b)("li",{parentName:"ul"},"It should be concise \u2013 the question is to the point and unambiguous"),Object(r.b)("li",{parentName:"ul"},"The answer is specific \u2013 you don\u2019t want a question which could be answered\nin different ways by the same person"),Object(r.b)("li",{parentName:"ul"},"The possible answers must be diverse \u2013 a question about someone\u2019s favourite\ncolour would result in a small subset of possible answers"),Object(r.b)("li",{parentName:"ul"},"Answer discovery should be hard \u2013 if you can readily find the answer for\nanyone (think high-profile people) then it\u2019s no good"),Object(r.b)("li",{parentName:"ul"},"The answer must be constant over time \u2013 asking for someone\u2019s favourite movie\nmay result in a different answer a year from now")),Object(r.b)("p",{parentName:"blockquote"},Object(r.b)("a",Object(s.a)({parentName:"p"},{href:"https://www.troyhunt.com/everything-you-ever-wanted-to-know/"}),"Source"))),Object(r.b)("p",null,"Here are some good examples:"),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},'What was the first concert you ever went to and where? (e.g. "Pink Floyd at\nGotham City Stadium")'),Object(r.b)("li",{parentName:"ul"},"...")))}l.isMDXComponent=!0},343:function(e,t,o){"use strict";var s=o(0),n=o.n(s),r=o(357),a=o.n(r),i=o(127),c=o.n(i),u=o(335),l=o.n(u);a.a.initialize({startOnLoad:!0,logLevel:"fatal",securityLevel:"strict",arrowMarkerAbsolute:!1,theme:"neutral",flowchart:{useMaxWidth:!0,htmlLabels:!0,rankSpacing:65,nodeSpacing:30,curve:"basis"},sequence:{useMaxWidth:!0},gantt:{useMaxWidth:!0}});t.a=function(e){var t=e.chart;return Object(s.useEffect)((function(){a.a.contentLoaded()}),[]),n.a.createElement("div",{className:l()(c.a.graph,"mermaid")},t)}},366:function(e,t,o){var s={"./locale":341,"./locale.js":341};function n(e){var t=r(e);return o(t)}function r(e){if(!o.o(s,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return s[e]}n.keys=function(){return Object.keys(s)},n.resolve=r,e.exports=n,n.id=366}}]);