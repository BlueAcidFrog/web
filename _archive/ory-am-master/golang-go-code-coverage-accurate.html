<!doctype html>
<html>
<head>
    <base href="https://www.ory.am"><link href="style.css" rel="stylesheet">
    <title>How to get accurate code coverage in Golang (Go) - ORY - Open source cyber security and developer tools</title>
    <link rel="icon" type="image/png" href="https://storage.googleapis.com/ory.am/logo/ory_07_-15.png">
    <link rel="apple-touch-icon" type="image/png" href="https://storage.googleapis.com/ory.am/logo/ory_07_-15.png">
    <link rel="icon" sizes="144x144" href="https://storage.googleapis.com/ory.am/logo/ory_07_-15.png">
    <meta charset="utf-8">
    <meta name="description" content="Get accurate code coverage reports using go-acc. Your test might perform better than you think!">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <script type="text/javascript">
      !function(){var analytics=window.analytics=window.analytics||[];if(!analytics.initialize)if(analytics.invoked)window.console&&console.error&&console.error("Segment snippet included twice.");else{analytics.invoked=!0;analytics.methods=["trackSubmit","trackClick","trackLink","trackForm","pageview","identify","reset","group","track","ready","alias","debug","page","once","off","on"];analytics.factory=function(t){return function(){var e=Array.prototype.slice.call(arguments);e.unshift(t);analytics.push(e);return analytics}};for(var t=0;t<analytics.methods.length;t++){var e=analytics.methods[t];analytics[e]=analytics.factory(e)}analytics.load=function(t){var e=document.createElement("script");e.type="text/javascript";e.async=!0;e.src=("https:"===document.location.protocol?"https://":"http://")+"cdn.segment.com/analytics.js/v1/"+t+"/analytics.min.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(e,n)};analytics.SNIPPET_VERSION="4.0.0";
        analytics.load("aEpgOr1YNOF5fD9LkOynbaDEGc3G6Cuy");
        analytics.page();
      }}();
    </script>
    <style type="text/css">
        .clarke-header-content h2,
        .clarke-header-content h3,
        .clarke-header-content h4,
        .clarke-header-content h5,
        .clarke-header-content h6,
        .clarke-header-content p {
            color: rgba(255, 255, 255, 0.85) !important;
        }

        .clarke-header-content h1 {
            color: rgba(255, 255, 255, 1) !important;
        }

        .clarke-main-inner h1,
        .clarke-main-inner h2,
        .clarke-main-inner h3,
        .clarke-main-inner h4 {
            text-transform: none !important;
        }

        .clarke-main-inner h3 {
            font-size: 18px !important;
        }

        .clarke-main-inner .ory-layout-plugin-section-dark h3 {
            color: #f4f4f4 !important;
        }

        .clarke .clarke-header .menu-sticky-top .menu-sticky-top-nav ul li a {
            text-transform: none !important;
        }

        .clarke .clarke-header .menu-sticky-top .menu-sticky-top-nav,
        .clarke .clarke-header .menu-sticky-top .menu-sticky-top-nav ul {
            background-color: #f4f4f4 !important;
        }

        .clarke .clarke-header .menu-sticky-top .menu-sticky-top-nav ul li ul {
            border-top: 1px solid #bbb;
        }

        nav.menu-sticky-top {
            padding: 0 !important;
        }

        .clarke-footer-nav li {
            margin: 16px;
        }

        nav.menu-sticky-top .menu-sticky-top-nav .menu-sticky-top-brand img {
            height: 35px !important;
        }

        .clarke-header {
            background-position-y: top !important;
        }

        .clarke-header-content {
            padding-top: 25vh !important;
            padding-bottom: 25vh !important;
        }

        @media screen and (max-device-width: 1050px) {
            .clarke-header {
                background-attachment: scroll !important;
            }
        }

        @media screen and (max-device-width: 420px) {
            .ory-plugins-content-image {
                max-width: 80%;
                margin: auto 0;
            }
        }

        .editable-area pre:before {
            content: " ";
            position: absolute;
            top: -1px;
            left: 0;
            right: 0;
            background: #DAD9D9;
            height: 24px;
            border-radius: 4px 4px 0 0;
        }

        .editable-area code {
            line-height: 1em;
            display: inline;
            background: rgba(27, 31, 35, 0.15);
            font-size: .85em;
            padding: 0 0.5em 0.1em 0.5em !important;
            margin: 0 !important;
            border-radius: 3px !important;
        }

        .editable-area pre {
            display: block;
            margin: 1em !important;
            overflow: visible !important;
            background: #333;
            border-radius: 0 0 4px 4px;
            color: white;
            padding: 44px 20px 20px 20px !important;
            position: relative;
        }

        .editable-area pre code {
            margin: 0 !important;
            padding: 0 !important;
            white-space: pre-wrap;
            line-height: 1.25em;
            color: white;
            background: none;
        }

        .editable-area .material-icons {
            color: #14193D !important;
        }

        .ory-layout-plugin-section-dark .material-icons {
            color: #f4f4f4 !important;
        }

        iframe {
            overflow: hidden;
        }
    </style>
    <script>
      function resizeIframe(obj) {
        obj.style.height = obj.contentWindow.document.body.scrollHeight + 5 + 'px';
      }
    </script>
</head>
<body data-page="d3e4c5db-306a-4c12-bad8-9efc5930e74c">
<div id="root">
    <div><div class="clarke"><div class="clarke-header" style="background:linear-gradient(rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0.4)), url(&#x27;images/pexels-photo-65125.jpeg&#x27;) center / cover no-repeat fixed;"><nav class="menu-sticky-top"><div><div style="padding-bottom:0;"></div><div class="menu-sticky-top-nav" style="transform:translateZ(0);"><div class="menu-sticky-top-nav-inner"><div class="menu-sticky-top-nav-items-container"><ul><li class="menu-sticky-top-nav-responsive-toggle"><a href="#">☰</a></li><li><a class="" href="index.html">Welcome</a></li><li><a class="" href="products/open-source.html">Open Source</a></li><li><input type="checkbox" id="807372c8-dc34-4a8b-a7b9-c7e50de10381"/><label for="807372c8-dc34-4a8b-a7b9-c7e50de10381"><a class="" href="">API Security</a></label><ul><li><a class="" href="products/cloud-security.html">Overview</a></li><li><a class="" href="products/account-takeover-detection-api.html">Account Takeover</a></li></ul></li><li><a class="" href="https://www.ory.am/sites">Static Site Generator</a></li><li><input type="checkbox" id="114d0c8d-7cb1-4794-9ae9-69f9a1dc6f2a"/><label for="114d0c8d-7cb1-4794-9ae9-69f9a1dc6f2a"><a class="" href="">Articles</a></label><ul><li><a class="" href="golang-go-code-coverage-accurate.html">Accurate Go Code Coverage</a></li><li><a class="" href="run-oauth2-server-open-source-api-security.html">Run and install ORY Hydra</a></li></ul></li><li><a class="" href="https://github.com/ory">GitHub</a></li></ul></div><div class="menu-sticky-top-brand"><a href="index.html"><img src="https://storage.googleapis.com/ory.am/logo/ory_07_-26-no-border.png"/></a></div><div style="clear:both;"></div></div></div></div></nav><div class="clarke-header-content"><div class="editable-area"><div class="ory-row"><div class="ory-cell ory-cell-sm-12 ory-cell-xs-12"><div class="ory-cell-inner ory-cell-leaf"><div><h1>ACCURATE CODE<br/>Coverage in go</h1><h2>Your GoLang tests might<br/>perform better than you think</h2></div></div></div></div></div></div></div><div class="clarke-main"><div class="clarke-main-inner"><div class="editable-area"><div class="ory-row"><div class="ory-cell ory-cell-sm-12 ory-cell-xs-12"><div class="ory-row ory-cell-inner"><div class="ory-cell ory-cell-sm-12 ory-cell-xs-12"><div class="ory-cell-inner"><div class="ory-layout-plugin-section ory-layout-plugin-section-" id=""><div class="ory-layout-plugin-section-inner"><div class="ory-row ory-cell-inner"><div class="ory-cell ory-cell-sm-12 ory-cell-xs-12"><div class="ory-cell-inner ory-cell-leaf"><div><p><a href="https://golang.org/">Go</a>, the programming language written and maintained by Google, shines with it&#x27;s toolchain. However, some of the tools behave differently than expected and it may cost you several hours of debugging and experimenting to find the arguments and execution orders.</p><p>This article introduces you to the problem of <strong>reporting accurate code coverage</strong> using the Go programming language, and offers a solution that runs on any Operating System. If you have not worked with Code Coverage in Golang, consider reading the excellent <a href="https://blog.golang.org/cover">Go cover story</a> first.</p><p>If you are looking for the <strong>solution only, run this</strong>:</p><pre style="overflow:scroll;"><code># Download and install go-acc<br/>$ go get -u github.com/ory/go-acc<br/><br/># Run it against some package(s)<br/>$ go-acc github.com/some/package<br/>$ go-acc .<br/>$ go-acc ./... <br/>$ go-acc $(glide novendor)</code></pre></div></div></div></div><div class="ory-row ory-cell-inner"><div class="ory-cell ory-cell-sm-12 ory-cell-xs-12"><div class="ory-cell-inner ory-cell-leaf"><div style="border:solid 1px;border-color:rgba(0, 0, 0, 0.12);" class="ory-plugins-content-spacer ory-plugins-content-spacer-read-only"><div style="height:1px;"></div></div></div></div></div><div class="ory-row ory-cell-inner ory-row-has-floating-children"><div class="ory-cell ory-cell-sm-7 ory-cell-xs-12 ory-cell-inline-right"><div class="ory-cell-inner ory-cell-leaf"><div><img class="ory-plugins-content-image" src="images/articles/go-codecov/report.png"/></div></div></div><div class="ory-cell ory-cell-sm-12 ory-cell-xs-12 ory-cell-has-inline-neighbour"><div class="ory-cell-inner ory-cell-leaf"><div><h2>The problem</h2><p>While writing integration tests for one of our <a href="https://github.com/ory/">open source</a> Go projects, I noticed that code coverage did not increase despite writing a lot of them.</p><p>The reason for this was that <code>go test -cover</code> is per default only recording code coverage for the package that is currently tested, not for all the packages from the project. If you have a lot of integration tests, <strong>your code coverage might be higher than you think</strong>!</p></div></div></div></div><div><div style="color:rgba(0, 0, 0, 0.87);background-color:#ffffff;transition:-ms-transform 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms,-webkit-transform 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms,transform 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;box-sizing:border-box;font-family:Roboto, sans-serif;-webkit-tap-highlight-color:rgba(0,0,0,0);box-shadow:none;border-radius:0px;height:auto;width:auto;position:fixed;z-index:5;left:0px;top:inherit;transform:translate(0, 300px);overflow:visible;-webkit-overflow-scrolling:touch;bottom:0px;margin:0 auto;right:0px;text-align:center;background:transparent;border:transparent;-webkit-transition:-webkit-transform 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms,transform 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;-moz-transition:transform 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;-moz-box-sizing:border-box;-webkit-transform:translate(0, 300px);-ms-transform:translate(0, 300px);"><div style="display:inline-block;border:rgba(0, 0, 0, 0.87) 1px solid;border-radius:4px 4px 0;background-color:rgba(0, 0, 0, 0.87);padding:12px 24px;"><div style="font-size:16px;line-height:24px;width:256px;height:72px;display:block;position:relative;background-color:transparent;font-family:Roboto, sans-serif;transition:height 200ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;cursor:auto;text-align:left;-webkit-transition:height 200ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;-moz-transition:height 200ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;"><label style="position:absolute;line-height:22px;top:38px;transition:all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;z-index:1;transform:scale(1) translate(0, 0);transform-origin:left top;pointer-events:none;user-select:none;color:white;text-align:left;-webkit-transition:all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;-moz-transition:all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;-webkit-transform:scale(1) translate(0, 0);-ms-transform:scale(1) translate(0, 0);-webkit-transform-origin:left top;-ms-transform-origin:left top;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;" for="undefined-my-anchor-Linkableanchorname-11470">Linkable anchor name</label><div style="position:absolute;opacity:0;color:grey;transition:all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;bottom:12px;text-align:left;-webkit-transition:all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;-moz-transition:all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;">my-anchor</div><input type="text" style="appearance:textfield;padding:0;position:relative;width:100%;border:none;outline:none;background-color:rgba(0,0,0,0);color:white;cursor:inherit;font:inherit;-webkit-opacity:1;-webkit-tap-highlight-color:rgba(0,0,0,0);height:100%;box-sizing:border-box;margin-top:14px;text-align:left;-webkit-appearance:textfield;-moz-appearance:textfield;-moz-box-sizing:border-box;" value="" id="undefined-my-anchor-Linkableanchorname-11470"/><div><hr aria-hidden="true" style="border-top:none;border-left:none;border-right:none;border-bottom-style:solid;border-bottom-width:1px;border-color:#e0e0e0;bottom:8px;box-sizing:content-box;margin:0;position:absolute;width:100%;-moz-box-sizing:content-box;"/><hr aria-hidden="true" style="border-top:none;border-left:none;border-right:none;border-bottom-style:solid;border-bottom-width:2px;border-color:#00bcd4;bottom:8px;box-sizing:content-box;margin:0;position:absolute;width:100%;transform:scaleX(0);transition:all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;-moz-box-sizing:content-box;-webkit-transform:scaleX(0);-ms-transform:scaleX(0);-webkit-transition:all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;-moz-transition:all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;"/></div></div><div style="font-size:16px;line-height:24px;width:256px;height:72px;display:block;position:relative;background-color:transparent;font-family:Roboto, sans-serif;transition:height 200ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;cursor:auto;color:white;text-align:left;-webkit-transition:height 200ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;-moz-transition:height 200ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;"><label style="position:absolute;line-height:22px;top:38px;transition:all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;z-index:1;transform:scale(1) translate(0, 0);transform-origin:left top;pointer-events:none;user-select:none;color:white;text-align:left;-webkit-transition:all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;-moz-transition:all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;-webkit-transform:scale(1) translate(0, 0);-ms-transform:scale(1) translate(0, 0);-webkit-transform-origin:left top;-ms-transform-origin:left top;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;" for="undefined-undefined-Style-594">Style</label><div id="undefined-undefined-Style-594" style="display:block;font-size:15px;height:100%;font-family:Roboto, sans-serif;outline:none;position:relative;transition:all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;padding:0;width:100%;border:none;background-color:rgba(0,0,0,0);color:rgba(0, 0, 0, 0.87);cursor:inherit;font:inherit;-webkit-opacity:1;-webkit-tap-highlight-color:rgba(0,0,0,0);box-sizing:border-box;margin-top:14px;-webkit-transition:all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;-moz-transition:all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;-moz-box-sizing:border-box;"><div style="cursor:pointer;height:100%;position:relative;width:100%;"><div style="box-sizing:border-box;content:&#x27; &#x27;;display:table;-moz-box-sizing:border-box;"></div><div style="color:white;height:56px;line-height:56px;overflow:hidden;opacity:1;position:relative;padding-left:0;padding-right:56px;text-overflow:ellipsis;top:6px;white-space:nowrap;text-align:left;"></div><button style="border:10px;box-sizing:border-box;display:inline-block;font-family:Roboto, sans-serif;-webkit-tap-highlight-color:rgba(0, 0, 0, 0);cursor:pointer;text-decoration:none;margin:0;padding:12px;outline:none;font-size:0;font-weight:inherit;position:absolute;z-index:1;overflow:visible;transition:all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;width:48px;height:48px;fill:#e0e0e0;right:0;top:8px;background:none;-moz-box-sizing:border-box;-webkit-transition:all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;-moz-transition:all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;" tabindex="0" type="button"><div><svg style="display:inline-block;color:rgba(0, 0, 0, 0.87);fill:inherit;height:24px;width:24px;user-select:none;transition:all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-webkit-transition:all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;-moz-transition:all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;" viewBox="0 0 24 24"><path d="M7 10l5 5 5-5z"></path></svg></div></button><div style="border-top:none;bottom:1px;left:0;margin:-1px 24px;right:0;position:absolute;"></div><div style="box-sizing:border-box;content:&#x27; &#x27;;clear:both;display:table;-moz-box-sizing:border-box;"></div></div><div style="display:none;"></div></div><div><hr aria-hidden="true" style="border-top:none;border-left:none;border-right:none;border-bottom-style:solid;border-bottom-width:1px;border-color:#e0e0e0;bottom:8px;box-sizing:content-box;margin:0;position:absolute;width:100%;-moz-box-sizing:content-box;"/><hr aria-hidden="true" style="border-top:none;border-left:none;border-right:none;border-bottom-style:solid;border-bottom-width:2px;border-color:#00bcd4;bottom:8px;box-sizing:content-box;margin:0;position:absolute;width:100%;transform:scaleX(0);transition:all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;-moz-box-sizing:content-box;-webkit-transform:scaleX(0);-ms-transform:scaleX(0);-webkit-transition:all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;-moz-transition:all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;"/></div></div></div></div></div></div></div></div></div></div><div class="ory-row ory-cell-inner"><div class="ory-cell ory-cell-sm-12 ory-cell-xs-12"><div class="ory-cell-inner"><div class="ory-layout-plugin-section ory-layout-plugin-section-white" id=""><div class="ory-layout-plugin-section-inner"><div class="ory-row ory-cell-inner"><div class="ory-cell ory-cell-sm-12 ory-cell-xs-12"><div class="ory-cell-inner ory-cell-leaf"><div><h2 style="text-align:center;">The code</h2><p>First I want to take a look at some code. This repository is available on <a href="https://github.com/arekkas/accurate-test-coverage">GitHub</a>. The repository consist of two packages <code>pkg</code> and <code>otherpkg</code>. The first package defines two functions, <code>SayCode</code> and <code>SayCoverage</code> and a test for <code>SayCode</code>. The second package defines a function <code>SayCodeCoverage</code> that uses <code>SayCode</code> and <code>SayCoverage</code>, and a test for <code>SayCodeCoverage</code>:</p></div></div></div></div><div class="ory-row ory-cell-inner"><div class="ory-cell ory-cell-sm-6 ory-cell-xs-12"><div class="ory-cell-inner ory-cell-leaf"><div><pre style="overflow:scroll;"><code>// funcs.go<br/>package pkg<br/><br/>func SayCode() string {<br/>    return &quot;code&quot;<br/>}<br/><br/>func SayCoverage() string {<br/>    return &quot;coverage&quot;<br/>}</code></pre></div></div></div><div class="ory-cell ory-cell-sm-6 ory-cell-xs-12"><div class="ory-cell-inner ory-cell-leaf"><div><pre style="overflow:scroll;"><code>// funcs_test.go<br/>package pkg<br/><br/>import &quot;testing&quot;<br/><br/>func TestSayCode(t *testing.T) {<br/>    if SayCode() != &quot;code&quot; {<br/>        t.Fail()<br/>    }<br/>}</code></pre></div></div></div></div><div class="ory-row ory-cell-inner"><div class="ory-cell ory-cell-sm-6 ory-cell-xs-12"><div class="ory-cell-inner ory-cell-leaf"><div><pre style="overflow:scroll;"><code>// cc.go<br/>package otherpkg<br/><br/>import &quot;github.com/arekkas/accurate-test-coverage/pkg&quot;<br/><br/>func SayCodeCoverage() string {<br/>    return pkg.SayCode() + &quot; &quot; + pkg.SayCoverage()<br/>}</code></pre></div></div></div><div class="ory-cell ory-cell-sm-6 ory-cell-xs-12"><div class="ory-cell-inner ory-cell-leaf"><div><pre style="overflow:scroll;"><code>// cc_test.go<br/>package otherpkg<br/><br/>import &quot;testing&quot;<br/><br/>func TestSayCodeCoverage(t *testing.T) {<br/>    if SayCodeCoverage() != &quot;code coverage&quot; {<br/>        t.Fail()<br/>    }<br/>}</code></pre></div></div></div></div><div><div style="color:rgba(0, 0, 0, 0.87);background-color:#ffffff;transition:-ms-transform 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms,-webkit-transform 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms,transform 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;box-sizing:border-box;font-family:Roboto, sans-serif;-webkit-tap-highlight-color:rgba(0,0,0,0);box-shadow:none;border-radius:0px;height:auto;width:auto;position:fixed;z-index:5;left:0px;top:inherit;transform:translate(0, 300px);overflow:visible;-webkit-overflow-scrolling:touch;bottom:0px;margin:0 auto;right:0px;text-align:center;background:transparent;border:transparent;-webkit-transition:-webkit-transform 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms,transform 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;-moz-transition:transform 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;-moz-box-sizing:border-box;-webkit-transform:translate(0, 300px);-ms-transform:translate(0, 300px);"><div style="display:inline-block;border:rgba(0, 0, 0, 0.87) 1px solid;border-radius:4px 4px 0;background-color:rgba(0, 0, 0, 0.87);padding:12px 24px;"><div style="font-size:16px;line-height:24px;width:256px;height:72px;display:block;position:relative;background-color:transparent;font-family:Roboto, sans-serif;transition:height 200ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;cursor:auto;text-align:left;-webkit-transition:height 200ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;-moz-transition:height 200ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;"><label style="position:absolute;line-height:22px;top:38px;transition:all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;z-index:1;transform:scale(1) translate(0, 0);transform-origin:left top;pointer-events:none;user-select:none;color:white;text-align:left;-webkit-transition:all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;-moz-transition:all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;-webkit-transform:scale(1) translate(0, 0);-ms-transform:scale(1) translate(0, 0);-webkit-transform-origin:left top;-ms-transform-origin:left top;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;" for="undefined-my-anchor-Linkableanchorname-17668">Linkable anchor name</label><div style="position:absolute;opacity:0;color:grey;transition:all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;bottom:12px;text-align:left;-webkit-transition:all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;-moz-transition:all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;">my-anchor</div><input type="text" style="appearance:textfield;padding:0;position:relative;width:100%;border:none;outline:none;background-color:rgba(0,0,0,0);color:white;cursor:inherit;font:inherit;-webkit-opacity:1;-webkit-tap-highlight-color:rgba(0,0,0,0);height:100%;box-sizing:border-box;margin-top:14px;text-align:left;-webkit-appearance:textfield;-moz-appearance:textfield;-moz-box-sizing:border-box;" value="" id="undefined-my-anchor-Linkableanchorname-17668"/><div><hr aria-hidden="true" style="border-top:none;border-left:none;border-right:none;border-bottom-style:solid;border-bottom-width:1px;border-color:#e0e0e0;bottom:8px;box-sizing:content-box;margin:0;position:absolute;width:100%;-moz-box-sizing:content-box;"/><hr aria-hidden="true" style="border-top:none;border-left:none;border-right:none;border-bottom-style:solid;border-bottom-width:2px;border-color:#00bcd4;bottom:8px;box-sizing:content-box;margin:0;position:absolute;width:100%;transform:scaleX(0);transition:all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;-moz-box-sizing:content-box;-webkit-transform:scaleX(0);-ms-transform:scaleX(0);-webkit-transition:all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;-moz-transition:all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;"/></div></div><div style="font-size:16px;line-height:24px;width:256px;height:72px;display:block;position:relative;background-color:transparent;font-family:Roboto, sans-serif;transition:height 200ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;cursor:auto;color:white;text-align:left;-webkit-transition:height 200ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;-moz-transition:height 200ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;"><label style="position:absolute;line-height:22px;top:38px;transition:all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;z-index:1;transform:scale(0.75) translate(0, -28px);transform-origin:left top;pointer-events:none;user-select:none;color:white;text-align:left;-webkit-transition:all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;-moz-transition:all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;-webkit-transform:scale(0.75) translate(0, -28px);-ms-transform:scale(0.75) translate(0, -28px);-webkit-transform-origin:left top;-ms-transform-origin:left top;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;" for="undefined-undefined-Style-15193">Style</label><div id="undefined-undefined-Style-15193" style="display:block;font-size:15px;height:100%;font-family:Roboto, sans-serif;outline:none;position:relative;transition:all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;padding:0;width:100%;border:none;background-color:rgba(0,0,0,0);color:rgba(0, 0, 0, 0.87);cursor:inherit;font:inherit;-webkit-opacity:1;-webkit-tap-highlight-color:rgba(0,0,0,0);box-sizing:border-box;margin-top:14px;-webkit-transition:all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;-moz-transition:all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;-moz-box-sizing:border-box;"><div style="cursor:pointer;height:100%;position:relative;width:100%;"><div style="box-sizing:border-box;content:&#x27; &#x27;;display:table;-moz-box-sizing:border-box;"></div><div style="color:white;height:56px;line-height:56px;overflow:hidden;opacity:1;position:relative;padding-left:0;padding-right:56px;text-overflow:ellipsis;top:6px;white-space:nowrap;text-align:left;">white</div><button style="border:10px;box-sizing:border-box;display:inline-block;font-family:Roboto, sans-serif;-webkit-tap-highlight-color:rgba(0, 0, 0, 0);cursor:pointer;text-decoration:none;margin:0;padding:12px;outline:none;font-size:0;font-weight:inherit;position:absolute;z-index:1;overflow:visible;transition:all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;width:48px;height:48px;fill:#e0e0e0;right:0;top:8px;background:none;-moz-box-sizing:border-box;-webkit-transition:all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;-moz-transition:all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;" tabindex="0" type="button"><div><svg style="display:inline-block;color:rgba(0, 0, 0, 0.87);fill:inherit;height:24px;width:24px;user-select:none;transition:all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-webkit-transition:all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;-moz-transition:all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;" viewBox="0 0 24 24"><path d="M7 10l5 5 5-5z"></path></svg></div></button><div style="border-top:none;bottom:1px;left:0;margin:-1px 24px;right:0;position:absolute;"></div><div style="box-sizing:border-box;content:&#x27; &#x27;;clear:both;display:table;-moz-box-sizing:border-box;"></div></div><div style="display:none;"></div></div><div><hr aria-hidden="true" style="border-top:none;border-left:none;border-right:none;border-bottom-style:solid;border-bottom-width:1px;border-color:#e0e0e0;bottom:8px;box-sizing:content-box;margin:0;position:absolute;width:100%;-moz-box-sizing:content-box;"/><hr aria-hidden="true" style="border-top:none;border-left:none;border-right:none;border-bottom-style:solid;border-bottom-width:2px;border-color:#00bcd4;bottom:8px;box-sizing:content-box;margin:0;position:absolute;width:100%;transform:scaleX(0);transition:all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;-moz-box-sizing:content-box;-webkit-transform:scaleX(0);-ms-transform:scaleX(0);-webkit-transition:all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;-moz-transition:all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;"/></div></div></div></div></div></div></div></div></div></div><div class="ory-row ory-cell-inner"><div class="ory-cell ory-cell-sm-12 ory-cell-xs-12"><div class="ory-cell-inner"><div class="ory-layout-plugin-section ory-layout-plugin-section-" id=""><div class="ory-layout-plugin-section-inner"><div class="ory-row ory-cell-inner"><div class="ory-cell ory-cell-sm-12 ory-cell-xs-12"><div class="ory-cell-inner ory-cell-leaf"><div><h2 style="text-align:center;">The <code>-coverpkg</code> flag</h2><p>Let&#x27;s use <code>-covermod=atomic</code> to get a report of how well the tests cover the code. We expect 100% code coverage because every line is being touched by the tests:</p></div></div></div></div><div class="ory-row ory-cell-inner"><div class="ory-cell ory-cell-sm-12 ory-cell-xs-12"><div class="ory-cell-inner ory-cell-leaf"><div><pre style="overflow:scroll;"><code>$ go get -d -u github.com/arekkas/accurate-test-coverage<br/>$ go test -covermode=atomic \<br/>    github.com/arekkas/accurate-test-coverage/...<br/><br/>ok  github.com/arekkas/accurate-test-coverage/otherpkg  10.115s coverage: 100.0% of statements<br/>ok  github.com/arekkas/accurate-test-coverage/pkg        0.485s coverage:  50.0% of statements</code></pre></div></div></div></div><div class="ory-row ory-cell-inner"><div class="ory-cell ory-cell-sm-12 ory-cell-xs-12"><div class="ory-cell-inner ory-cell-leaf"><div><p>That didn&#x27;t go as expected! Code coverage reports only 75% (100% + 50%) code coverage. That happens because <code>go test -covermode</code> is not collecting coverage reports on code that doesn&#x27;t belong to the package currently being tested. Of course, Go has a flag for that, it&#x27;s called <code>-coverpkg</code>. This flag accepts a list of packages to consider while computing code coverage:</p></div></div></div></div><div class="ory-row ory-cell-inner"><div class="ory-cell ory-cell-sm-12 ory-cell-xs-12"><div class="ory-cell-inner ory-cell-leaf"><div><pre style="overflow:scroll;"><code>$ go test -covermode=atomic \<br/>    -coverpkg $(go list github.com/arekkas/accurate-test-coverage/...) \<br/>    github.com/arekkas/accurate-test-coverage/...
<br/><br/>ok  github.com/arekkas/accurate-test-coverage/pkg       22.494s coverage:   0.0% of statements in github.com/arekkas/accurate-test-coverage/otherpkg<br/>ok  github.com/arekkas/accurate-test-coverage/otherpkg  10.398s coverage: 100.0% of statements in github.com/arekkas/accurate-test-coverage/otherpkg</code></pre></div></div></div></div><div class="ory-row ory-cell-inner"><div class="ory-cell ory-cell-sm-12 ory-cell-xs-12"><div class="ory-cell-inner ory-cell-leaf"><div><p>Awesome, we received true code coverage!</p></div></div></div></div><div><div style="color:rgba(0, 0, 0, 0.87);background-color:#ffffff;transition:-ms-transform 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms,-webkit-transform 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms,transform 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;box-sizing:border-box;font-family:Roboto, sans-serif;-webkit-tap-highlight-color:rgba(0,0,0,0);box-shadow:none;border-radius:0px;height:auto;width:auto;position:fixed;z-index:5;left:0px;top:inherit;transform:translate(0, 300px);overflow:visible;-webkit-overflow-scrolling:touch;bottom:0px;margin:0 auto;right:0px;text-align:center;background:transparent;border:transparent;-webkit-transition:-webkit-transform 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms,transform 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;-moz-transition:transform 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;-moz-box-sizing:border-box;-webkit-transform:translate(0, 300px);-ms-transform:translate(0, 300px);"><div style="display:inline-block;border:rgba(0, 0, 0, 0.87) 1px solid;border-radius:4px 4px 0;background-color:rgba(0, 0, 0, 0.87);padding:12px 24px;"><div style="font-size:16px;line-height:24px;width:256px;height:72px;display:block;position:relative;background-color:transparent;font-family:Roboto, sans-serif;transition:height 200ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;cursor:auto;text-align:left;-webkit-transition:height 200ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;-moz-transition:height 200ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;"><label style="position:absolute;line-height:22px;top:38px;transition:all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;z-index:1;transform:scale(1) translate(0, 0);transform-origin:left top;pointer-events:none;user-select:none;color:white;text-align:left;-webkit-transition:all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;-moz-transition:all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;-webkit-transform:scale(1) translate(0, 0);-ms-transform:scale(1) translate(0, 0);-webkit-transform-origin:left top;-ms-transform-origin:left top;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;" for="undefined-my-anchor-Linkableanchorname-48765">Linkable anchor name</label><div style="position:absolute;opacity:0;color:grey;transition:all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;bottom:12px;text-align:left;-webkit-transition:all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;-moz-transition:all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;">my-anchor</div><input type="text" style="appearance:textfield;padding:0;position:relative;width:100%;border:none;outline:none;background-color:rgba(0,0,0,0);color:white;cursor:inherit;font:inherit;-webkit-opacity:1;-webkit-tap-highlight-color:rgba(0,0,0,0);height:100%;box-sizing:border-box;margin-top:14px;text-align:left;-webkit-appearance:textfield;-moz-appearance:textfield;-moz-box-sizing:border-box;" value="" id="undefined-my-anchor-Linkableanchorname-48765"/><div><hr aria-hidden="true" style="border-top:none;border-left:none;border-right:none;border-bottom-style:solid;border-bottom-width:1px;border-color:#e0e0e0;bottom:8px;box-sizing:content-box;margin:0;position:absolute;width:100%;-moz-box-sizing:content-box;"/><hr aria-hidden="true" style="border-top:none;border-left:none;border-right:none;border-bottom-style:solid;border-bottom-width:2px;border-color:#00bcd4;bottom:8px;box-sizing:content-box;margin:0;position:absolute;width:100%;transform:scaleX(0);transition:all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;-moz-box-sizing:content-box;-webkit-transform:scaleX(0);-ms-transform:scaleX(0);-webkit-transition:all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;-moz-transition:all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;"/></div></div><div style="font-size:16px;line-height:24px;width:256px;height:72px;display:block;position:relative;background-color:transparent;font-family:Roboto, sans-serif;transition:height 200ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;cursor:auto;color:white;text-align:left;-webkit-transition:height 200ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;-moz-transition:height 200ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;"><label style="position:absolute;line-height:22px;top:38px;transition:all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;z-index:1;transform:scale(1) translate(0, 0);transform-origin:left top;pointer-events:none;user-select:none;color:white;text-align:left;-webkit-transition:all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;-moz-transition:all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;-webkit-transform:scale(1) translate(0, 0);-ms-transform:scale(1) translate(0, 0);-webkit-transform-origin:left top;-ms-transform-origin:left top;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;" for="undefined-undefined-Style-517">Style</label><div id="undefined-undefined-Style-517" style="display:block;font-size:15px;height:100%;font-family:Roboto, sans-serif;outline:none;position:relative;transition:all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;padding:0;width:100%;border:none;background-color:rgba(0,0,0,0);color:rgba(0, 0, 0, 0.87);cursor:inherit;font:inherit;-webkit-opacity:1;-webkit-tap-highlight-color:rgba(0,0,0,0);box-sizing:border-box;margin-top:14px;-webkit-transition:all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;-moz-transition:all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;-moz-box-sizing:border-box;"><div style="cursor:pointer;height:100%;position:relative;width:100%;"><div style="box-sizing:border-box;content:&#x27; &#x27;;display:table;-moz-box-sizing:border-box;"></div><div style="color:white;height:56px;line-height:56px;overflow:hidden;opacity:1;position:relative;padding-left:0;padding-right:56px;text-overflow:ellipsis;top:6px;white-space:nowrap;text-align:left;"></div><button style="border:10px;box-sizing:border-box;display:inline-block;font-family:Roboto, sans-serif;-webkit-tap-highlight-color:rgba(0, 0, 0, 0);cursor:pointer;text-decoration:none;margin:0;padding:12px;outline:none;font-size:0;font-weight:inherit;position:absolute;z-index:1;overflow:visible;transition:all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;width:48px;height:48px;fill:#e0e0e0;right:0;top:8px;background:none;-moz-box-sizing:border-box;-webkit-transition:all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;-moz-transition:all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;" tabindex="0" type="button"><div><svg style="display:inline-block;color:rgba(0, 0, 0, 0.87);fill:inherit;height:24px;width:24px;user-select:none;transition:all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-webkit-transition:all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;-moz-transition:all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;" viewBox="0 0 24 24"><path d="M7 10l5 5 5-5z"></path></svg></div></button><div style="border-top:none;bottom:1px;left:0;margin:-1px 24px;right:0;position:absolute;"></div><div style="box-sizing:border-box;content:&#x27; &#x27;;clear:both;display:table;-moz-box-sizing:border-box;"></div></div><div style="display:none;"></div></div><div><hr aria-hidden="true" style="border-top:none;border-left:none;border-right:none;border-bottom-style:solid;border-bottom-width:1px;border-color:#e0e0e0;bottom:8px;box-sizing:content-box;margin:0;position:absolute;width:100%;-moz-box-sizing:content-box;"/><hr aria-hidden="true" style="border-top:none;border-left:none;border-right:none;border-bottom-style:solid;border-bottom-width:2px;border-color:#00bcd4;bottom:8px;box-sizing:content-box;margin:0;position:absolute;width:100%;transform:scaleX(0);transition:all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;-moz-box-sizing:content-box;-webkit-transform:scaleX(0);-ms-transform:scaleX(0);-webkit-transition:all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;-moz-transition:all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;"/></div></div></div></div></div></div></div></div></div></div><div class="ory-row ory-cell-inner"><div class="ory-cell ory-cell-sm-12 ory-cell-xs-12"><div class="ory-cell-inner"><div class="ory-layout-plugin-section ory-layout-plugin-section-white" id=""><div class="ory-layout-plugin-section-inner"><div class="ory-row ory-cell-inner"><div class="ory-cell ory-cell-sm-12 ory-cell-xs-12"><div class="ory-cell-inner ory-cell-leaf"><div><h2 style="text-align:center;"><code>-coverprofile</code> is incompatible with <code>-coverpgk</code></h2><p>How about getting some nice code coverage reporting using, for example, <a href="https://coveralls.io/">coveralls.io</a>? Since <code>go test</code> supports writing the coverage report to a file using <code>-coverprofile</code>, this should be an easy one:</p></div></div></div></div><div class="ory-row ory-cell-inner"><div class="ory-cell ory-cell-sm-12 ory-cell-xs-12"><div class="ory-cell-inner ory-cell-leaf"><div><pre style="overflow:scroll;"><code>$ go test -covermode=atomic \<br/>    -coverprofile=coverage.tmp \<br/>    -coverpkg $(go list github.com/arekkas/accurate-test-coverage/...) \<br/>    github.com/arekkas/accurate-test-coverage/...<br/><br/>cannot use test profile flag with multiple packages</code></pre></div></div></div></div><div class="ory-row ory-cell-inner"><div class="ory-cell ory-cell-sm-3 ory-cell-xs-12"><div class="ory-cell-inner ory-cell-leaf"><div style="border:solid 1px;border-color:rgba(0, 0, 0, 0.12);" class="ory-plugins-content-spacer ory-plugins-content-spacer-read-only"><div style="height:1px;"></div></div></div></div><div class="ory-cell ory-cell-sm-6 ory-cell-xs-12"><div class="ory-cell-inner ory-cell-leaf"><div><img class="ory-plugins-content-image" src="images/articles/go-codecov/tableflip.gif"/></div></div></div><div class="ory-cell ory-cell-sm-3 ory-cell-xs-12"><div class="ory-cell-inner ory-cell-leaf"><div style="border:solid 1px;border-color:rgba(0, 0, 0, 0.12);" class="ory-plugins-content-spacer ory-plugins-content-spacer-read-only"><div style="height:1px;"></div></div></div></div></div><div class="ory-row ory-cell-inner"><div class="ory-cell ory-cell-sm-12 ory-cell-xs-12"><div class="ory-cell-inner ory-cell-leaf"><div><p>Using the flag <code>-coverprofile</code>, <code>go test</code> is unable to merge code coverage from multiple packages into one report. Thus, what needs to be done is loop through all the packages, and merge the outputs into one. Doing this either requires some bash magic (which does not work on windows), or <code>go-acc</code>:</p><pre style="overflow:scroll;"><code># Download and install go-acc<br/>$ go get -u github.com/ory/go-acc<br/><br/># Run it against some package(s)<br/>$ go-acc github.com/some/package<br/>$ go-acc .<br/>$ go-acc ./...<br/><br/># You can use your regular toolchain as well:<br/>$ go-acc $(go list ./...)<br/>$ go-acc $(glide novendor)</code></pre><p>Now, let&#x27;s run this against the package from above:</p><pre style="overflow:scroll;"><code>$ go get -d -u github.com/arekkas/accurate-test-coverage/...<br/>$ go-acc github.com/arekkas/accurate-test-coverage/...<br/><br/>
ok      github.com/arekkas/accurate-test-coverage/otherpkg  0.082s  coverage: 100.0% of statements in github.com/arekkas/accurate-test-coverage/otherpkg, github.com/arekkas/accurate-test-coverage/pkg<br/>ok      github.com/arekkas/accurate-test-coverage/pkg       0.081s  coverage:  33.3% of statements in github.com/arekkas/accurate-test-coverage/otherpkg, github.com/arekkas/accurate-test-coverage/pkg
</code></pre><p>Running <code>go tool cover -html=coverage.txt</code> should open a browser and show that all code has been touched by the tests:</p></div></div></div></div><div class="ory-row ory-cell-inner"><div class="ory-cell ory-cell-sm-12 ory-cell-xs-12"><div class="ory-cell-inner ory-cell-leaf"><div><img class="ory-plugins-content-image" src="images/articles/go-codecov/result.png"/></div></div></div></div><div class="ory-row ory-cell-inner"><div class="ory-cell ory-cell-sm-12 ory-cell-xs-12"><div class="ory-cell-inner ory-cell-leaf"><div><p>That&#x27;s it - thank you for reading! </p></div></div></div></div><div><div style="color:rgba(0, 0, 0, 0.87);background-color:#ffffff;transition:-ms-transform 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms,-webkit-transform 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms,transform 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;box-sizing:border-box;font-family:Roboto, sans-serif;-webkit-tap-highlight-color:rgba(0,0,0,0);box-shadow:none;border-radius:0px;height:auto;width:auto;position:fixed;z-index:5;left:0px;top:inherit;transform:translate(0, 300px);overflow:visible;-webkit-overflow-scrolling:touch;bottom:0px;margin:0 auto;right:0px;text-align:center;background:transparent;border:transparent;-webkit-transition:-webkit-transform 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms,transform 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;-moz-transition:transform 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;-moz-box-sizing:border-box;-webkit-transform:translate(0, 300px);-ms-transform:translate(0, 300px);"><div style="display:inline-block;border:rgba(0, 0, 0, 0.87) 1px solid;border-radius:4px 4px 0;background-color:rgba(0, 0, 0, 0.87);padding:12px 24px;"><div style="font-size:16px;line-height:24px;width:256px;height:72px;display:block;position:relative;background-color:transparent;font-family:Roboto, sans-serif;transition:height 200ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;cursor:auto;text-align:left;-webkit-transition:height 200ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;-moz-transition:height 200ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;"><label style="position:absolute;line-height:22px;top:38px;transition:all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;z-index:1;transform:scale(1) translate(0, 0);transform-origin:left top;pointer-events:none;user-select:none;color:white;text-align:left;-webkit-transition:all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;-moz-transition:all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;-webkit-transform:scale(1) translate(0, 0);-ms-transform:scale(1) translate(0, 0);-webkit-transform-origin:left top;-ms-transform-origin:left top;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;" for="undefined-my-anchor-Linkableanchorname-39345">Linkable anchor name</label><div style="position:absolute;opacity:0;color:grey;transition:all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;bottom:12px;text-align:left;-webkit-transition:all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;-moz-transition:all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;">my-anchor</div><input type="text" style="appearance:textfield;padding:0;position:relative;width:100%;border:none;outline:none;background-color:rgba(0,0,0,0);color:white;cursor:inherit;font:inherit;-webkit-opacity:1;-webkit-tap-highlight-color:rgba(0,0,0,0);height:100%;box-sizing:border-box;margin-top:14px;text-align:left;-webkit-appearance:textfield;-moz-appearance:textfield;-moz-box-sizing:border-box;" value="" id="undefined-my-anchor-Linkableanchorname-39345"/><div><hr aria-hidden="true" style="border-top:none;border-left:none;border-right:none;border-bottom-style:solid;border-bottom-width:1px;border-color:#e0e0e0;bottom:8px;box-sizing:content-box;margin:0;position:absolute;width:100%;-moz-box-sizing:content-box;"/><hr aria-hidden="true" style="border-top:none;border-left:none;border-right:none;border-bottom-style:solid;border-bottom-width:2px;border-color:#00bcd4;bottom:8px;box-sizing:content-box;margin:0;position:absolute;width:100%;transform:scaleX(0);transition:all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;-moz-box-sizing:content-box;-webkit-transform:scaleX(0);-ms-transform:scaleX(0);-webkit-transition:all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;-moz-transition:all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;"/></div></div><div style="font-size:16px;line-height:24px;width:256px;height:72px;display:block;position:relative;background-color:transparent;font-family:Roboto, sans-serif;transition:height 200ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;cursor:auto;color:white;text-align:left;-webkit-transition:height 200ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;-moz-transition:height 200ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;"><label style="position:absolute;line-height:22px;top:38px;transition:all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;z-index:1;transform:scale(0.75) translate(0, -28px);transform-origin:left top;pointer-events:none;user-select:none;color:white;text-align:left;-webkit-transition:all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;-moz-transition:all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;-webkit-transform:scale(0.75) translate(0, -28px);-ms-transform:scale(0.75) translate(0, -28px);-webkit-transform-origin:left top;-ms-transform-origin:left top;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;" for="undefined-undefined-Style-9341">Style</label><div id="undefined-undefined-Style-9341" style="display:block;font-size:15px;height:100%;font-family:Roboto, sans-serif;outline:none;position:relative;transition:all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;padding:0;width:100%;border:none;background-color:rgba(0,0,0,0);color:rgba(0, 0, 0, 0.87);cursor:inherit;font:inherit;-webkit-opacity:1;-webkit-tap-highlight-color:rgba(0,0,0,0);box-sizing:border-box;margin-top:14px;-webkit-transition:all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;-moz-transition:all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;-moz-box-sizing:border-box;"><div style="cursor:pointer;height:100%;position:relative;width:100%;"><div style="box-sizing:border-box;content:&#x27; &#x27;;display:table;-moz-box-sizing:border-box;"></div><div style="color:white;height:56px;line-height:56px;overflow:hidden;opacity:1;position:relative;padding-left:0;padding-right:56px;text-overflow:ellipsis;top:6px;white-space:nowrap;text-align:left;">white</div><button style="border:10px;box-sizing:border-box;display:inline-block;font-family:Roboto, sans-serif;-webkit-tap-highlight-color:rgba(0, 0, 0, 0);cursor:pointer;text-decoration:none;margin:0;padding:12px;outline:none;font-size:0;font-weight:inherit;position:absolute;z-index:1;overflow:visible;transition:all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;width:48px;height:48px;fill:#e0e0e0;right:0;top:8px;background:none;-moz-box-sizing:border-box;-webkit-transition:all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;-moz-transition:all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;" tabindex="0" type="button"><div><svg style="display:inline-block;color:rgba(0, 0, 0, 0.87);fill:inherit;height:24px;width:24px;user-select:none;transition:all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-webkit-transition:all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;-moz-transition:all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;" viewBox="0 0 24 24"><path d="M7 10l5 5 5-5z"></path></svg></div></button><div style="border-top:none;bottom:1px;left:0;margin:-1px 24px;right:0;position:absolute;"></div><div style="box-sizing:border-box;content:&#x27; &#x27;;clear:both;display:table;-moz-box-sizing:border-box;"></div></div><div style="display:none;"></div></div><div><hr aria-hidden="true" style="border-top:none;border-left:none;border-right:none;border-bottom-style:solid;border-bottom-width:1px;border-color:#e0e0e0;bottom:8px;box-sizing:content-box;margin:0;position:absolute;width:100%;-moz-box-sizing:content-box;"/><hr aria-hidden="true" style="border-top:none;border-left:none;border-right:none;border-bottom-style:solid;border-bottom-width:2px;border-color:#00bcd4;bottom:8px;box-sizing:content-box;margin:0;position:absolute;width:100%;transform:scaleX(0);transition:all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;-moz-box-sizing:content-box;-webkit-transform:scaleX(0);-ms-transform:scaleX(0);-webkit-transition:all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;-moz-transition:all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;"/></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div><div class="clarke-footer"><div class="clarke-footer-inner"><ul class="clarke-footer-nav"><li><a href="imprint.html">Imprint</a></li><li><a href="mailto:hi@ory.am">Contact us</a></li><li><a href="http://github.com/ory/">ORY on GitHub</a></li><li><a href="https://en.serlo.org/serlo">We ❤ Serlo Education</a></li></ul></div></div></div></div>
</div>
<script type="text/javascript" src="bundle.js"></script>

<script type="text/javascript">
  window.heap=window.heap||[],heap.load=function(e,t){window.heap.appid=e,window.heap.config=t=t||{};var r=t.forceSSL||"https:"===document.location.protocol,a=document.createElement("script");a.type="text/javascript",a.async=!0,a.src=(r?"https:":"http:")+"//cdn.heapanalytics.com/js/heap-"+e+".js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(a,n);for(var o=function(e){return function(){heap.push([e].concat(Array.prototype.slice.call(arguments,0)))}},p=["addEventProperties","addUserProperties","clearEventProperties","identify","removeEventProperty","setEventProperties","track","unsetEventProperty"],c=0;c<p.length;c++)heap[p[c]]=o(p[c])};
  heap.load("591747209");
  heap.addUserProperties({ test: 'master' });
</script>

<!-- Start of Async Drift Code -->
<script>
  !function () {
    var t;
    if (t = window.driftt = window.drift = window.driftt || [], !t.init) return t.invoked ? void (window.console && console.error && console.error("Drift snippet included twice.")) : (t.invoked = !0,
      t.methods = ["identify", "config", "track", "reset", "debug", "show", "ping", "page", "hide", "off", "on"],
      t.factory = function (e) {
        return function () {
          var n;
          return n = Array.prototype.slice.call(arguments), n.unshift(e), t.push(n), t;
        };
      }, t.methods.forEach(function (e) {
      t[e] = t.factory(e);
    }), t.load = function (t) {
      var e, n, o, i;
      e = 3e5, i = Math.ceil(new Date() / e) * e, o = document.createElement("script"),
        o.type = "text/javascript", o.async = !0, o.crossorigin = "anonymous", o.src = "https://js.driftt.com/include/" + i + "/" + t + ".js",
        n = document.getElementsByTagName("script")[0], n.parentNode.insertBefore(o, n);
    });
  }();
  drift.SNIPPET_VERSION = '0.3.1';
  drift.load('6fe8s8uiauzg');
</script>
<!-- End of Async Drift Code -->

<!-- Hotjar Tracking Code for http://ory.am -->
<script>
  (function (h, o, t, j, a, r) {
    h.hj = h.hj || function () {
        (h.hj.q = h.hj.q || []).push(arguments)
      };
    h._hjSettings = { hjid: 317432, hjsv: 5 };
    a = o.getElementsByTagName('head')[0];
    r = o.createElement('script');
    r.async = 1;
    r.src = t + h._hjSettings.hjid + j + h._hjSettings.hjsv;
    a.appendChild(r);
  })(window, document, '//static.hotjar.com/c/hotjar-', '.js?sv=');
</script>

<!-- Google Analytics -->
<script>
  (function (i, s, o, g, r, a, m) {
    i['GoogleAnalyticsObject'] = r;
    i[r] = i[r] || function () {
        (i[r].q = i[r].q || []).push(arguments)
      }, i[r].l = 1 * new Date();
    a = s.createElement(o),
      m = s.getElementsByTagName(o)[0];
    a.async = 1;
    a.src = g;
    m.parentNode.insertBefore(a, m)
  })(window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga');

  ga('create', 'UA-71865250-1', 'auto');
  ga('set', 'dimension1', 'master');
  ga('send', 'pageview');

</script>

<!-- Triggers -->
<script>
  (function () {
    function categorize(text, category) {
      ga('send', 'event', {
        eventCategory: category,
        eventAction: text,
        eventLabel: event.target.href,
        transport: 'beacon'
      });
    }

    setTimeout(function () {
      // header
      document.querySelectorAll('.clarke-header')[0].addEventListener('mousedown', function (event) {
        if (event.target.tagName.toLowerCase() === 'a') {
          ga('send', 'event', {
            eventCategory: 'Header link',
            eventAction: 'click',
            eventLabel: event.target.href,
            transport: 'beacon'
          });
        }
      });

      // content
      document.querySelectorAll('.clarke-main')[0].addEventListener('mousedown', function (event) {
        if (event.target.classList.contains("ory-content-plugin-button-text")) {
          // A button was clicked
          ga('send', 'event', {
            eventCategory: 'Content button',
            eventAction: 'click',
            eventLabel: event.target.href,
            transport: 'beacon'
          });
          categorize(event.target.textContent.toLowerCase(), 'Content button');
        } else if (event.target.tagName.toLowerCase() === 'a') {
          ga('send', 'event', {
            eventCategory: 'Content link',
            eventAction: 'click',
            eventLabel: event.target.href,
            transport: 'beacon'
          });
          categorize(event.target.textContent.toLowerCase(), 'Content link');
        }
      });


      // footer
      document.querySelectorAll('.clarke-footer')[0].addEventListener('mousedown', function (event) {
        if (event.target.tagName.toLowerCase() === 'a') {
          ga('send', 'event', {
            eventCategory: 'Footer link',
            eventAction: 'click',
            eventLabel: event.target.href,
            transport: 'beacon'
          });
        }
      });

    }, 3000)
  })()
</script>
</body>
</html>
